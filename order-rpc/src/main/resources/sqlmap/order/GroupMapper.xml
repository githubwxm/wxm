<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.all580.order.dao.GroupMapper" >
  <sql id="limit">
    <if test="record_start != null and record_count != null">
      limit #{record_start},#{record_count}
    </if>
    <if test="record_start != null and record_count == null">
      limit #{record_start}
    </if>
    <if test="record_start == null and record_count != null">
      limit 0,#{record_count}
    </if>
  </sql>
  <resultMap id="BaseResultMap" type="com.all580.order.entity.Group" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 01 11:25:59 CST 2016.
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="number" property="number" jdbcType="VARCHAR" />
    <result column="start_date" property="start_date" jdbcType="TIMESTAMP" />
    <result column="travel_name" property="travel_name" jdbcType="VARCHAR" />
    <result column="province" property="province" jdbcType="INTEGER" />
    <result column="city" property="city" jdbcType="INTEGER" />
    <result column="area" property="area" jdbcType="INTEGER" />
    <result column="address" property="address" jdbcType="VARCHAR" />
    <result column="guide_name" property="guide_name" jdbcType="VARCHAR" />
    <result column="guide_phone" property="guide_phone" jdbcType="VARCHAR" />
    <result column="guide_sid" property="guide_sid" jdbcType="VARCHAR" />
    <result column="guide_card" property="guide_card" jdbcType="VARCHAR" />
    <result column="adult" property="adult" jdbcType="INTEGER" />
    <result column="kid" property="kid" jdbcType="INTEGER" />
    <result column="manager_name" property="manager_name" jdbcType="VARCHAR" />
    <result column="manager_phone" property="manager_phone" jdbcType="VARCHAR" />
    <result column="tour_name" property="tour_name" jdbcType="VARCHAR" />
    <result column="tour_phone" property="tour_phone" jdbcType="VARCHAR" />
    <result column="create_time" property="create_time" jdbcType="TIMESTAMP" />
    <result column="create_user_id" property="create_user_id" jdbcType="INTEGER" />
    <result column="create_user_name" property="create_user_name" jdbcType="VARCHAR" />
    <result column="ep_id" property="ep_id" jdbcType="INTEGER" />
    <result column="core_ep_id" property="core_ep_id" jdbcType="INTEGER" />
    <result column="update_time" property="update_time" jdbcType="TIMESTAMP" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 01 11:25:59 CST 2016.
    -->
    `id`, `number`, `start_date`, `travel_name`, `province`, `city`, `area`, `address`, 
    `guide_name`, `guide_phone`, `guide_sid`, `guide_card`, `adult`, `kid`, `manager_name`, 
    `manager_phone`, `tour_name`, `tour_phone`, `create_time`, `create_user_id`, `create_user_name`, 
    `ep_id`, `core_ep_id`, `update_time`
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 01 11:25:59 CST 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from t_group
    where `id` = #{id,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 01 11:25:59 CST 2016.
    -->
    delete from t_group
    where `id` = #{id,jdbcType=INTEGER}
  </delete>
  <insert id="insert" parameterType="com.all580.order.entity.Group" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 01 11:25:59 CST 2016.
    -->
    <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into t_group (`number`, `start_date`, `travel_name`, 
      `province`, `city`, `area`, 
      `address`, `guide_name`, `guide_phone`, 
      `guide_sid`, `guide_card`, `adult`, 
      `kid`, `manager_name`, `manager_phone`, 
      `tour_name`, `tour_phone`, `create_time`, 
      `create_user_id`, `create_user_name`, `ep_id`, 
      `core_ep_id`, `update_time`)
    values (#{number,jdbcType=VARCHAR}, #{start_date,jdbcType=TIMESTAMP}, #{travel_name,jdbcType=VARCHAR}, 
      #{province,jdbcType=INTEGER}, #{city,jdbcType=INTEGER}, #{area,jdbcType=INTEGER}, 
      #{address,jdbcType=VARCHAR}, #{guide_name,jdbcType=VARCHAR}, #{guide_phone,jdbcType=VARCHAR}, 
      #{guide_sid,jdbcType=VARCHAR}, #{guide_card,jdbcType=VARCHAR}, #{adult,jdbcType=INTEGER}, 
      #{kid,jdbcType=INTEGER}, #{manager_name,jdbcType=VARCHAR}, #{manager_phone,jdbcType=VARCHAR}, 
      #{tour_name,jdbcType=VARCHAR}, #{tour_phone,jdbcType=VARCHAR}, #{create_time,jdbcType=TIMESTAMP}, 
      #{create_user_id,jdbcType=INTEGER}, #{create_user_name,jdbcType=VARCHAR}, #{ep_id,jdbcType=INTEGER}, 
      #{core_ep_id,jdbcType=INTEGER}, #{update_time,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.all580.order.entity.Group" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 01 11:25:59 CST 2016.
    -->
    <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER" >
      SELECT LAST_INSERT_ID()
    </selectKey>
    insert into t_group
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="number != null" >
        `number`,
      </if>
      <if test="start_date != null" >
        `start_date`,
      </if>
      <if test="travel_name != null" >
        `travel_name`,
      </if>
      <if test="province != null" >
        `province`,
      </if>
      <if test="city != null" >
        `city`,
      </if>
      <if test="area != null" >
        `area`,
      </if>
      <if test="address != null" >
        `address`,
      </if>
      <if test="guide_name != null" >
        `guide_name`,
      </if>
      <if test="guide_phone != null" >
        `guide_phone`,
      </if>
      <if test="guide_sid != null" >
        `guide_sid`,
      </if>
      <if test="guide_card != null" >
        `guide_card`,
      </if>
      <if test="adult != null" >
        `adult`,
      </if>
      <if test="kid != null" >
        `kid`,
      </if>
      <if test="manager_name != null" >
        `manager_name`,
      </if>
      <if test="manager_phone != null" >
        `manager_phone`,
      </if>
      <if test="tour_name != null" >
        `tour_name`,
      </if>
      <if test="tour_phone != null" >
        `tour_phone`,
      </if>
      <if test="create_time != null" >
        `create_time`,
      </if>
      <if test="create_user_id != null" >
        `create_user_id`,
      </if>
      <if test="create_user_name != null" >
        `create_user_name`,
      </if>
      <if test="ep_id != null" >
        `ep_id`,
      </if>
      <if test="core_ep_id != null" >
        `core_ep_id`,
      </if>
      <if test="update_time != null" >
        `update_time`,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="number != null" >
        #{number,jdbcType=VARCHAR},
      </if>
      <if test="start_date != null" >
        #{start_date,jdbcType=TIMESTAMP},
      </if>
      <if test="travel_name != null" >
        #{travel_name,jdbcType=VARCHAR},
      </if>
      <if test="province != null" >
        #{province,jdbcType=INTEGER},
      </if>
      <if test="city != null" >
        #{city,jdbcType=INTEGER},
      </if>
      <if test="area != null" >
        #{area,jdbcType=INTEGER},
      </if>
      <if test="address != null" >
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="guide_name != null" >
        #{guide_name,jdbcType=VARCHAR},
      </if>
      <if test="guide_phone != null" >
        #{guide_phone,jdbcType=VARCHAR},
      </if>
      <if test="guide_sid != null" >
        #{guide_sid,jdbcType=VARCHAR},
      </if>
      <if test="guide_card != null" >
        #{guide_card,jdbcType=VARCHAR},
      </if>
      <if test="adult != null" >
        #{adult,jdbcType=INTEGER},
      </if>
      <if test="kid != null" >
        #{kid,jdbcType=INTEGER},
      </if>
      <if test="manager_name != null" >
        #{manager_name,jdbcType=VARCHAR},
      </if>
      <if test="manager_phone != null" >
        #{manager_phone,jdbcType=VARCHAR},
      </if>
      <if test="tour_name != null" >
        #{tour_name,jdbcType=VARCHAR},
      </if>
      <if test="tour_phone != null" >
        #{tour_phone,jdbcType=VARCHAR},
      </if>
      <if test="create_time != null" >
        #{create_time,jdbcType=TIMESTAMP},
      </if>
      <if test="create_user_id != null" >
        #{create_user_id,jdbcType=INTEGER},
      </if>
      <if test="create_user_name != null" >
        #{create_user_name,jdbcType=VARCHAR},
      </if>
      <if test="ep_id != null" >
        #{ep_id,jdbcType=INTEGER},
      </if>
      <if test="core_ep_id != null" >
        #{core_ep_id,jdbcType=INTEGER},
      </if>
      <if test="update_time != null" >
        #{update_time,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.all580.order.entity.Group" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 01 11:25:59 CST 2016.
    -->
    update t_group
    <set >
      <if test="number != null" >
        `number` = #{number,jdbcType=VARCHAR},
      </if>
      <if test="start_date != null" >
        `start_date` = #{start_date,jdbcType=TIMESTAMP},
      </if>
      <if test="travel_name != null" >
        `travel_name` = #{travel_name,jdbcType=VARCHAR},
      </if>
      <if test="province != null" >
        `province` = #{province,jdbcType=INTEGER},
      </if>
      <if test="city != null" >
        `city` = #{city,jdbcType=INTEGER},
      </if>
      <if test="area != null" >
        `area` = #{area,jdbcType=INTEGER},
      </if>
      <if test="address != null" >
        `address` = #{address,jdbcType=VARCHAR},
      </if>
      <if test="guide_name != null" >
        `guide_name` = #{guide_name,jdbcType=VARCHAR},
      </if>
      <if test="guide_phone != null" >
        `guide_phone` = #{guide_phone,jdbcType=VARCHAR},
      </if>
      <if test="guide_sid != null" >
        `guide_sid` = #{guide_sid,jdbcType=VARCHAR},
      </if>
      <if test="guide_card != null" >
        `guide_card` = #{guide_card,jdbcType=VARCHAR},
      </if>
      <if test="adult != null" >
        `adult` = #{adult,jdbcType=INTEGER},
      </if>
      <if test="kid != null" >
        `kid` = #{kid,jdbcType=INTEGER},
      </if>
      <if test="manager_name != null" >
        `manager_name` = #{manager_name,jdbcType=VARCHAR},
      </if>
      <if test="manager_phone != null" >
        `manager_phone` = #{manager_phone,jdbcType=VARCHAR},
      </if>
      <if test="tour_name != null" >
        `tour_name` = #{tour_name,jdbcType=VARCHAR},
      </if>
      <if test="tour_phone != null" >
        `tour_phone` = #{tour_phone,jdbcType=VARCHAR},
      </if>
      <if test="create_time != null" >
        `create_time` = #{create_time,jdbcType=TIMESTAMP},
      </if>
      <if test="create_user_id != null" >
        `create_user_id` = #{create_user_id,jdbcType=INTEGER},
      </if>
      <if test="create_user_name != null" >
        `create_user_name` = #{create_user_name,jdbcType=VARCHAR},
      </if>
      <if test="ep_id != null" >
        `ep_id` = #{ep_id,jdbcType=INTEGER},
      </if>
      <if test="core_ep_id != null" >
        `core_ep_id` = #{core_ep_id,jdbcType=INTEGER},
      </if>
      <if test="update_time != null" >
        `update_time` = #{update_time,jdbcType=TIMESTAMP},
      </if>
    </set>
    where `id` = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.all580.order.entity.Group" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Thu Dec 01 11:25:59 CST 2016.
    -->
    update t_group
    set `number` = #{number,jdbcType=VARCHAR},
      `start_date` = #{start_date,jdbcType=TIMESTAMP},
      `travel_name` = #{travel_name,jdbcType=VARCHAR},
      `province` = #{province,jdbcType=INTEGER},
      `city` = #{city,jdbcType=INTEGER},
      `area` = #{area,jdbcType=INTEGER},
      `address` = #{address,jdbcType=VARCHAR},
      `guide_name` = #{guide_name,jdbcType=VARCHAR},
      `guide_phone` = #{guide_phone,jdbcType=VARCHAR},
      `guide_sid` = #{guide_sid,jdbcType=VARCHAR},
      `guide_card` = #{guide_card,jdbcType=VARCHAR},
      `adult` = #{adult,jdbcType=INTEGER},
      `kid` = #{kid,jdbcType=INTEGER},
      `manager_name` = #{manager_name,jdbcType=VARCHAR},
      `manager_phone` = #{manager_phone,jdbcType=VARCHAR},
      `tour_name` = #{tour_name,jdbcType=VARCHAR},
      `tour_phone` = #{tour_phone,jdbcType=VARCHAR},
      `create_time` = #{create_time,jdbcType=TIMESTAMP},
      `create_user_id` = #{create_user_id,jdbcType=INTEGER},
      `create_user_name` = #{create_user_name,jdbcType=VARCHAR},
      `ep_id` = #{ep_id,jdbcType=INTEGER},
      `core_ep_id` = #{core_ep_id,jdbcType=INTEGER},
      `update_time` = #{update_time,jdbcType=TIMESTAMP}
    where `id` = #{id,jdbcType=INTEGER}
  </update>

  <select id="countGroupList" resultType="int">
    SELECT
    COUNT(*)
    FROM
    t_group g
    WHERE 1 = 1
    <include refid="selectGroupListWhere"/>
  </select>
  <select id="queryGroupList" resultType="map">
    SELECT
    *
    FROM
    t_group g
    WHERE 1 = 1
    <include refid="selectGroupListWhere"/>
    <include refid="limit"/>
  </select>
  <sql id = "selectGroupListWhere">
    <if test="number != null and number != ''">
      AND g.number like CONCAT('%',#{number}, '%')
    </if>
    <if test="guide_name != null and guide_name != ''">
      AND g.guide_name like CONCAT('%',#{guide_name}, '%')
    </if>
    <if test="province != null and province != ''">
      AND g.province = #{province}
    </if>
    <if test="city != null and city != ''">
      AND g.city = #{city}
    </if>
    <if test="core_ep_id != null and core_ep_id != ''">
      AND g.ep_id = #{core_ep_id}
    </if>
    <if test="start != null">
      AND g.`start_date` <![CDATA[  >=  ]]> #{start}
    </if>
    <if test="end != null">
      AND g.`start_date` <![CDATA[  <=  ]]> #{end}
    </if>
  </sql>
  <select id="queryGroupById" resultType="map">
    SELECT
    *
    FROM
    t_group g
    WHERE 1 = 1
    <if test="id != null and id != ''">
      AND g.id = #{id,jdbcType=INTEGER}
    </if>
  </select>
</mapper>