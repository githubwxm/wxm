<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <header-title></header-title>
<<<<<<< HEAD
    <link href="../static/css/style.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="../static/script/amd/1.0/jedate/skin/jedate.css">
=======
    <link href="/voucher/static/css/style.css" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="/voucher/static/script/amd/1.0/jedate/skin/jedate.css">
>>>>>>> fix_master
    <style>
        .bodys { padding: 50px 0 0 50px; }
        .datainp { width: 130px; height: 30px; border: 1px #A5D2EC solid; font-size: 15px}
        .datep { margin-bottom: 40px; line-height: 24px; margin-right: 15px; }
        .wicon { background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAQCAYAAADj5tSrAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABZ0RVh0Q3JlYXRpb24gVGltZQAwNi8xNS8xNGnF/oAAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAAoElEQVQ4jWPceOnNfwYqAz9dYRQ+E7UtwAaGjyUsDAyYYUgJ2HT5LXZLcEmSCnA6duOlN///////H0bDALl8dPH/////Z8FuNW6Qtvw2nL3lyjsGBgYGhlmRqnj1kGwJuqHIlhJlCXq8EOITEsdqCXLEbbr8FisfFkTo+vBZRFZwERNEFFkCiw90nxJtCalxQmzegltCzVyP1RJq5HZ8AABuNZr0628DMwAAAABJRU5ErkJggg=="); background-repeat: no-repeat; background-position: right center; }
    </style>
</head>
<body vtag="root">
<div class="root-main">
    <div class="main-container clearfix">
        <div class="Establish clearfix" v-if="subFromData.ticket_flag == 5031">
            <div class="title clearfix">
                <em></em><h3>修改子产品</h3>
            </div>
            <validator name="checkSubForm">
                <form id="subForm" method="post" onSubmit="return false;">
                    <ul>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label">产品名称：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6">
                                <input name="prod_name" class="form-control" type="text"
                                       disabled="disabled" v-model="subFromData.product_name">
                            </div>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>票据名称：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6">
                                <input name="name" class="form-control" type="text" maxlength="50" v-model="subFromData.name" v-validate:name="{required:true}" initial="off">
<<<<<<< HEAD
                                <div v-show="$checkSubForm.name.required" for="contactMobile"><img src="../static/style/img/baocuo.png"><label class="error">请填写票据名称！</label></div>
=======
                                <div v-show="$checkSubForm.name.required" for="contactMobile"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请填写票据名称！</label></div>
>>>>>>> fix_master
                                <div class="label-box btn-success" v-cloak>{{subFromData.ticket_dict_name}}</div> <div class="label-box btn-blue" v-cloak>{{subFromData.ticket_flag_name}}</div>
                                <div class="label-box btn-orange" v-cloak>{{subFromData.pay_type_name}}</div>
                            </div>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>市场价：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 0">
                                <input name="name" class="form-control" type="number" min="0" maxlength="50" v-model="subFromData.market_price" v-validate:market_price="{required:true}" initial="off">
                            </div>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 1">
                                <input name="name" class="form-control" type="number" min="0" maxlength="50" v-model="subFromData.market_price" v-validate:market_price="{required:true}" initial="off" disabled>
                            </div>
<<<<<<< HEAD
                            <div v-show="$checkSubForm.market_price.required" for="contactMobile"><img src="../static/style/img/baocuo.png"><label class="error">请填写市场价！</label> </div>
=======
                            <div v-show="$checkSubForm.market_price.required" for="contactMobile"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请填写市场价！</label> </div>
>>>>>>> fix_master
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>限制最低售价：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 0">
                                <input name="name" class="form-control" type="number" min="0" maxlength="50" v-model="subFromData.min_sell_price" v-validate:min_sell_price="{required:true}" initial="off">
                            </div>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 1">
                                <input name="name" class="form-control" type="number" min="0" maxlength="50" v-model="subFromData.min_sell_price" v-validate:min_sell_price="{required:true}" initial="off" disabled>
                            </div>
<<<<<<< HEAD
                            <div v-show="$checkSubForm.min_sell_price.required" for="contactMobile" class="error"><img src="../static/style/img/baocuo.png"><label class="error">请填写最低售价！</label> </div>
=======
                            <div v-show="$checkSubForm.min_sell_price.required" for="contactMobile" class="error"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请填写最低售价！</label> </div>
>>>>>>> fix_master
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>结算价：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 0">
                                <input name="name" class="form-control" type="number" min="0" maxlength="50" v-model="subFromData.settle_price" v-validate:settle_price="{required:true}" initial="off">
                            </div>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 1">
                                <input name="name" class="form-control" type="number" min="0" maxlength="50" v-model="subFromData.settle_price" v-validate:settle_price="{required:true}" initial="off" disabled>
                                <span class="label label-danger ">注意</span>
                                <span style="font-size: 10px;color: red">修改价格需先下架子产品</span>
                            </div>
<<<<<<< HEAD
                            <div v-show="$checkSubForm.settle_price.required" for="contactMobile"><img src="../static/style/img/baocuo.png"><label class="error">请填写结算价！</label></div>
=======
                            <div v-show="$checkSubForm.settle_price.required" for="contactMobile"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请填写结算价！</label></div>
>>>>>>> fix_master
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>发码公司：</label>
                            <div class="col-sm-3 col-md-3 col-lg-6">
                                <remote-sel-disabled :setting="maTypeSetting" :value.sync="subFromData.ep_ma_id"></remote-sel-disabled>
                            </div>
<<<<<<< HEAD
                            <!--<div v-show="$checkSubForm.ep_ma_id.required" for="contactMobile"><img src="../static/style/img/baocuo.png"><label class="error">请选择发码公司！</label></div>-->
=======
                            <!--<div v-show="$checkSubForm.ep_ma_id.required" for="contactMobile"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请选择发码公司！</label></div>-->
>>>>>>> fix_master
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>票务产品：</label>
                            <div class="col-sm-3 col-md-3 col-lg-6">
                                <remote-sel-disabled :setting="maProductTypeSetting" :value.sync="subFromData.ma_product_id"></remote-sel-disabled>
                            </div>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label">票据图片：</label>
                            <div class="col-sm-9 col-md-8  col-lg-6 form-img">
                                <upload-pic :setting.sync="upSetting" :list.sync="subFromData.img"></upload-pic>
                            </div>
                        </li>
                    </ul>
                    <div class="business-two clearfix">
                        <div class="title clearfix">
                            <em></em><h3>预订须知</h3>
                        </div>
                        <ul>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">购票时是否需要身份证：</label>
                                <div class="col-md-3 col-sm-3 col-lg-2 clearfix">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5110" @change="bookingNotes" v-model="subFromData.require_sid" v-validate:require_sid="{required:true}" initial="off"><b>是</b>
                                    </label>
                                </div>
                                <div class="col-md-3 col-sm-3 col-lg-2 clearfix">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5111" @change="bookingNotes" v-model="subFromData.require_sid" v-validate:require_sid="{required:true}" initial="off"><b>否</b>
                                    </label>
                                </div>
                            </li>
                            <li v-if="subFromData.require_sid == 5110">
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-md-9 col-sm-9 col-lg-9 clearfix">
                                    一张身份证一天内购买<input class="input-one" type="number" min="0" v-model="subFromData.sid_day_count" v-validate:sid_day_count="{required:true}" initial="off" @change="bookingNotes"/>次，0表示不限次数，每日最多购买
                                    <input type="number" min="0" class="input-one" v-model="subFromData.sid_day_quantity" v-validate:sid_day_quantity="{required:true}" initial="off" @change="bookingNotes"/>张，0表示不限张数
                                    <label v-show="$checkSubForm.sid_day_count.required" for="contactMobile" class="error">必填字段</label>
                                    <label v-show="$checkSubForm.sid_day_quantity.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">是否允许超卖：</label>
                                <div class="col-md-6 col-sm-6 col-lg-6 clearfix">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5060" v-model="subFromData.sale_rule_type"><b>不允许超卖</b>
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5061" v-model="subFromData.sale_rule_type"><b>允许超卖</b>
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5062" v-model="subFromData.sale_rule_type"><b>超卖需审核</b>
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5063" v-model="subFromData.sale_rule_type"><b>全人工</b>
                                    </label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">每单最高购买限制：</label>
                                <div class="col-sm-6 col-md-6 col-lg-6">
                                    最高购买<input name="name" class="input-one" type="number" min="0" maxlength="50" v-model="subFromData.max_buy_quantity">张,0表示不限制
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">预订和使用时间限制：</label>
                                <div class="col-sm-8 col-md-8 col-lg-8">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5141" @change="bookingNotes" v-model="subFromData.booking_limit" v-validate:booking_limit="{required:true}" initial="off">
                                        可当天预订，预订后<input type="number" min="0" class="input-one" v-model="subFromData.use_hours_limit" @change="bookingNotes"/>小时方可入园
                                    </label>
                                    <label v-show="$checkSubForm.use_hours_limit.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                                <div v-if="subFromData.booking_limit == 5141" style="display:none;">
                                    <input type="hidden" v-model="subFromData.use_hours_limit" v-validate:use_hours_limit="{required:true}" initial="off"/>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-sm-8 col-md-8 col-lg-8">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5140" @change="bookingNotes" v-model="subFromData.booking_limit" v-validate:booking_limit="{required:true}" initial="off">
                                        游玩前<input type="number" min="0" class="input-one" style="width:150px" v-model="subFromData.booking_day_limit" @change="bookingNotes"/>天
                                        <div v-if="subFromData.booking_limit == 5140" style="display:none;">
                                            <input type="hidden" v-model="subFromData.booking_day_limit" v-validate:booking_day_limit="{required:true}" initial="off"/>
                                        </div>
<<<<<<< HEAD
                                        <div class="Prompt prom-right" v-show="$checkSubForm.booking_day_limit.required" for="contactMobile" class="error"><img src="../static/style/img/baocuo.png"><label class="error">请填写游玩天数！</label></div>
=======
                                        <div class="Prompt prom-right" v-show="$checkSubForm.booking_day_limit.required" for="contactMobile" class="error"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请填写游玩天数！</label></div>
>>>>>>> fix_master
                                        <input class="datainp wicon" id="visitor"  type="text" placeholder="格式为08:00" @click="testShow('#visitor')" readonly>时:分之前预订
                                        <!--<input class="input-one" style="width:150px" v-model="subFromData.booking_time_limit" @change="bookingNotes" placeholder="格式为08:00"/>-->
                                        <div v-if="subFromData.booking_limit == 5140" style="display:none;">
                                            <input type="hidden" v-model="subFromData.booking_time_limit" v-validate:booking_time_limit="{required:true}" initial="off"/>
                                        </div>
<<<<<<< HEAD
                                        <div class="Prompt prom-right" v-show="$checkSubForm.booking_time_limit.required" for="contactMobile"><img src="../static/style/img/baocuo.png"><label class="error">请填写游玩时间！</label></div>
=======
                                        <div class="Prompt prom-right" v-show="$checkSubForm.booking_time_limit.required" for="contactMobile"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请填写游玩时间！</label></div>
>>>>>>> fix_master
                                    </label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">是否限购：</label>
                                <div class="col-md-3 col-sm-3 col-lg-2 clearfix">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5020" v-model="subFromData.stock_limit" v-validate:stock_limit="{required:true}" initial="off"><b>是</b>
                                    </label>
                                </div>
                                <div class="col-md-3 col-sm-3 col-lg-2 clearfix">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5021" v-model="subFromData.stock_limit" v-validate:stock_limit="{required:true}" initial="off"><b>否</b>
                                    </label>
                                    <label v-show="$checkSubForm.stock_limit.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                            </li>
                            <li v-if="subFromData.stock_limit == 5020">
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-md-9 col-sm-9 col-lg-9 clearfix">
                                    总限购数量<input type="number" min="0" class="input-one" v-model="subFromData.total_stock" v-validate:total_stock="{required:true}" initial="off"/>
                                    <label v-show="$checkSubForm.total_stock.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                            </li>
                            <li v-if="subFromData.stock_limit == 5020">
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-md-9 col-sm-9 col-lg-8 clearfix">
                                    <div class="col-md-9 col-sm-9 col-lg-9 clearfix">
                                        <datepicker :value.sync="subFromData.buy_start_date" class="col-sm-3 col-lg-3" language="ch"></datepicker>
                                        <datepicker :value.sync="subFromData.buy_end_date" class="col-sm-3 col-lg-3" language="ch"></datepicker>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">预订须知：</label>
                                <div class="bs-example col-md-8 col-sm-8 col-lg-8 ">
                                    <textarea rows="4" class="form-control valid" style="resize:none;border-bottom: 0px" v-model="subFromData.booking_notes" v-validate:booking_notes="{required:true}" initial="off" readonly disabled></textarea>
                                    <textarea rows="4" class="form-control valid" style="resize:none;border-top: 0px" v-model="subFromData.booking_notes_extend"></textarea>
                                    <em>说明：1、2、3、4点是默认生成的，根据前面的选项默认生成的须知，您可以再添加须知.</em>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="business-two">
                        <div class="title clearfix">
                            <em></em><h3>使用限制</h3>
                        </div>
                        <ul>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">有效天数：</label>
                                <div class="col-sm-8 col-md-8 col-lg-8">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5081" @change="disableWeek" v-model="subFromData.effective_type" v-validate:effective_type="{required:true}" initial="off">
                                        预订游玩日起<input type="number" min="1" class="input-one" style="width:150px" v-model="subFromData.effective_day" @change="disableWeek"/>
                                        天内有效
                                        <label v-show="$checkSubForm.effective_day.required" for="contactMobile" style="color:orangered;padding-left:20px">必填字段</label>
                                    </label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div v-if="subFromData.effective_type == 5081" style="display:none;">
                                    <input type="hidden" v-model="subFromData.effective_day" v-validate:effective_day="{required:true}" initial="off"/>
                                </div>
                                <div class="col-sm-8 col-md-8 col-lg-8">
                                    <input type="radio" class="chekbox" value="5082" @change="disableWeek" v-model="subFromData.effective_type" v-validate:effective_type="{required:true}" initial="off">
                                    <datepicker :value.sync="subFromData.effective_start_date" class="col-sm-3 col-lg-3" language="ch"></datepicker>
                                    <datepicker :value.sync="subFromData.effective_end_date" class="col-sm-3 col-lg-3" language="ch"></datepicker>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">禁用日期：</label>
                                <div class="col-sm-9 col-md-9 col-lg-9 clearfix">
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="1" v-model="subFromData.disable_week" @change="disableWeek"><b>星期一</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="2" v-model="subFromData.disable_week" @change="disableWeek"><b>星期二</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="3" v-model="subFromData.disable_week" @change="disableWeek"><b>星期三</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="4" v-model="subFromData.disable_week" @change="disableWeek"><b>星期四</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="5" v-model="subFromData.disable_week" @change="disableWeek"><b>星期五</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="6" v-model="subFromData.disable_week" @change="disableWeek"><b>星期六</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="7" v-model="subFromData.disable_week" @change="disableWeek"><b>星期天</b>
                                    </label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-sm-8 col-md-8 col-lg-8" style=" padding-left:0px;">
                                    <div class="col-sm-6 col-md-6 col-lg-6">
                                        <textarea rows="5" class="form-control valid" style="resize:none" v-model="DisableDate"></textarea>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-lg-6">
                                        <datepicker :value.sync="disable_date" class="col-sm-4 col-lg-4" language="ch"></datepicker>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">使用须知：</label>
                                <div class="bs-example  col-md-8 col-sm-8 col-lg-8 ">
                                    <textarea rows="5" class="form-control valid" style="resize:none" v-model="subFromData.use_notes" v-validate:use_notes="{required:true}" initial="off" readonly disabled></textarea>
                                    <textarea rows="4" class="form-control valid" style="resize:none;border-top: 0px" v-model="subFromData.use_notes_extend"></textarea>
                                    <em>说明：1、2、3点是默认生成的，根据前面的选项默认生成的须知，您可以再添加须知.</em>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="business-two clearfix">
                        <div class="title">
                            <em></em><h3>退货规则</h3>
                        </div>
                        <ul>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">退货规则：</label>
                                <div class="col-sm-8 col-md-8 col-lg-6 clearfix">
                                    <remote-sel :setting="refundSetting" :value.sync="subFromData.cust_refund_rule" @change="refundRule" v-validate:cust_refund_rule="{required:true}" initial="off"></remote-sel>
                                    <label v-show="$checkSubForm.cust_refund_rule.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="business-two clearfix">
                        <div class="title">
                            <em></em><h3>其它信息</h3>
                        </div>
                        <ul>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">短信凭证内容：</label>
                                <div class="bs-example col-md-8 col-sm-8 col-lg-8 clearfix">
                                    <textarea class="form-control" rows="6" v-model="subFromData.voucher_msg"></textarea>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">打印小票内容：</label>
                                <div class="bs-example col-md-8 col-sm-8 col-lg-8 clearfix">
                                    <textarea class="form-control" rows="6" v-model="subFromData.ticket_msg"></textarea>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label" style="color:red;font-size: 15px">标签说明：</label>
                                <div class="col-md-8 col-sm-8 col-lg-8 form-control-static clearfix" style="color:red;font-size: 15px">
                                    支持这些标签,{标题},{份数},{验证码},{有效期},{生效日期},{有效年月日}当您传入这些标签后,系统将在发送此信息时用相对的内容来替换，短信内容不宜过长，超过65字时将按65字每条收费(以最终收到的短信字数为准)!
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="business-two clearfix">
                        <div class="Button-box" v-if="disabled == false">
                            <button class="btn" type="submit" @click="upload">修改</button>
                        </div>
                        <div class="Button-box" v-if="disabled == true">
                            <button class="btn" type="submit" @click="upload" disabled>修改</button>
                        </div>
                    </div>
                </form>
            </validator>
        </div>
        <div class="Establish clearfix" v-if="subFromData.ticket_flag == 5032">
            <div class="title clearfix">
                <em></em><h3>修改子产品</h3>
            </div>
            <validator name="checkSubForm">
                <form method="post" onSubmit="return false;">
                    <ul>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label">产品名称：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6">
                                <input name="prod_name" class="form-control" type="text"
                                       disabled="disabled" v-model="subFromData.product_name">
                            </div>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>票据名称：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6">
                                <input name="name" class="form-control" type="text" maxlength="50" v-model="subFromData.name" v-validate:name="{required:true}" initial="off">
                                <label v-show="$checkSubForm.name.required" for="contactMobile" class="error">必填字段</label>
                                <div class="label-box btn-success" v-cloak>{{subFromData.ticket_dict_name}}</div> <div class="label-box btn-blue" v-cloak>{{subFromData.ticket_flag_name}}</div>
                                <div class="label-box btn-orange" v-cloak>{{subFromData.pay_type_name}}</div>
                            </div>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>市场价：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 0">
                                <input name="name" class="form-control" type="text" maxlength="50" v-model="subFromData.market_price" v-validate:market_price="{required:true}" initial="off">
                            </div>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 1">
                                <input name="name" class="form-control" type="text" maxlength="50" v-model="subFromData.market_price" v-validate:market_price="{required:true}" initial="off" disabled>
                            </div>
                            <label v-show="$checkSubForm.market_price.required" for="contactMobile" class="error">必填字段</label>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>限制最低售价：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 0">
                                <input name="name" class="form-control" type="text" maxlength="50" v-model="subFromData.min_sell_price" v-validate:min_sell_price="{required:true}" initial="off">
                            </div>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 1">
                                <input name="name" class="form-control" type="text" maxlength="50" v-model="subFromData.min_sell_price" v-validate:min_sell_price="{required:true}" initial="off" disabled>
                            </div>
                            <label v-show="$checkSubForm.min_sell_price.required" for="contactMobile" class="error">必填字段</label>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>结算价：</label>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 0">
                                <input name="name" class="form-control" type="text" maxlength="50" v-model="subFromData.settle_price" v-validate:settle_price="{required:true}" initial="off">
                            </div>
                            <div class="col-sm-9 col-md-8 col-lg-6" v-if="subFromData.up_down_status == 1">
                                <input name="name" class="form-control" type="text" maxlength="50" v-model="subFromData.settle_price" v-validate:settle_price="{required:true}" initial="off" disabled>
                                <span class="label label-danger ">注意</span>
                                <span style="font-size: 10px;color: red">修改价格需先下架子产品</span>
                            </div>
                            <label v-show="$checkSubForm.settle_price.required" for="contactMobile" class="error">必填字段</label>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>发码公司：</label>
                            <div class="col-sm-3 col-md-3 col-lg-6">
                                <remote-sel-disabled :setting="maTypeSetting" :value.sync="subFromData.ep_ma_id"></remote-sel-disabled>
                            </div>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>票务产品：</label>
                            <div class="col-sm-3 col-md-3 col-lg-6">
                                <remote-sel-disabled :setting="maProductTypeSetting" :value.sync="subFromData.ma_product_id"></remote-sel-disabled>
                            </div>
                        </li>
                        <li>
                            <label class="col-md-3 col-sm-3 col-lg-3 control-label">票据图片：</label>
                            <div class="col-sm-9 col-md-8  col-lg-6 form-img">
                                <upload-pic :setting.sync="upSetting" :list.sync="subFromData.img"></upload-pic>
                            </div>
                        </li>
                    </ul>
                    <div class="business-two clearfix">
                        <div class="title clearfix">
                            <em></em><h3>预订须知</h3>
                        </div>
                        <ul>
                            <li class="form-group form-group-top">
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">最低使用限制：</label>
                                <div class="col-sm-9 col-md-8 col-lg-4">
                                    最低使用<input class="input-one" class="form-control" type="number" min="0" maxlength="50" v-model="subFromData.low_use_quantity">张,0表示不限制
                                </div>
                            </li>
                            <li class="form-group form-group-top">
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"><dd>*</dd>最低购买数量：</label>
                                <div class="col-sm-9 col-md-8 col-lg-4">
                                    <input class="form-control" type="number" min="0" maxlength="50" v-model="subFromData.min_buy_quantity" v-validate:min_buy_quantity="{required:true}" initial="off">
                                </div>
                                <label v-show="$checkSubForm.min_buy_quantity.required" for="contactMobile" class="error">必填字段</label>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">购票时是否需要身份证：</label>
                                <div class="col-md-3 col-sm-3 col-lg-2 clearfix">
                                    <remote-sel :setting="realNameSetting" @change="bookingNotes" :value.sync="subFromData.real_name" v-validate:real_name="{required:true}" initial="off"></remote-sel>
                                </div>
                                <label v-show="$checkSubForm.real_name.required" for="contactMobile" class="error">必填字段</label>
                            </li>
                            <!--<li v-if="subFromData.real_name == 5130">
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-md-9 col-sm-9 col-lg-9 clearfix">
                                    一张身份证一天内购买<input class="input-one" type="type" v-model="subFromData.sid_day_count" v-validate:sid_day_count="{required:true}" initial="off" @change="bookingNotes"/>次，0表示不限次书，每日最多购买
                                    <input type="type" class="input-one" v-model="subFromData.sid_day_quantity" v-validate:sid_day_quantity="{required:true}" initial="off" @change="bookingNotes"/>张，0表示不限张数
                                    <label v-show="$checkSubForm.sid_day_count.required" for="contactMobile" class="error">必填字段</label>
                                    <label v-show="$checkSubForm.sid_day_quantity.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                            </li>-->
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">是否允许超卖：</label>
                                <div class="col-md-6 col-sm-6 col-lg-6 clearfix">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5060" v-model="subFromData.sale_rule_type"><b>不允许超卖</b>
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5061" v-model="subFromData.sale_rule_type"><b>允许超卖</b>
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5062" v-model="subFromData.sale_rule_type"><b>超卖需审核</b>
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5063" v-model="subFromData.sale_rule_type"><b>全人工</b>
                                    </label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">每单最高购买限制：</label>
                                <div class="col-sm-6 col-md-6 col-lg-6">
                                    最高购买<input name="name" class="input-one" type="number" min="0" maxlength="50" v-model="subFromData.max_buy_quantity">张,0表示不限制
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">预订和使用时间限制：</label>
                                <div class="col-sm-8 col-md-8 col-lg-8">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5141" @change="bookingNotes" v-model="subFromData.booking_limit" v-validate:booking_limit="{required:true}" initial="off">
                                        可当天预订，预订后<input type="number" min="0" class="input-one" v-model="subFromData.use_hours_limit" @change="bookingNotes"/>小时方可入园
                                    </label>
                                    <label v-show="$checkSubForm.use_hours_limit.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                                <div v-if="subFromData.booking_limit == 5141" style="display:none;">
                                    <input type="hidden" v-model="subFromData.use_hours_limit" v-validate:use_hours_limit="{required:true}" initial="off"/>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-sm-8 col-md-8 col-lg-8">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5140" @change="bookingNotes" v-model="subFromData.booking_limit" v-validate:booking_limit="{required:true}" initial="off">
                                        游玩前<input type="number" min="0" class="input-one" style="width:150px" v-model="subFromData.booking_day_limit" @change="bookingNotes"/>天
                                        <div v-if="subFromData.booking_limit == 5140" style="display:none;">
                                            <input type="hidden" v-model="subFromData.booking_day_limit" v-validate:booking_day_limit="{required:true}" initial="off"/>
                                        </div>
<<<<<<< HEAD
                                        <div class="Prompt prom-right" v-show="$checkSubForm.booking_day_limit.required" for="contactMobile" class="error"><img src="../static/style/img/baocuo.png"><label class="error">请填写游玩天数！</label></div>
=======
                                        <div class="Prompt prom-right" v-show="$checkSubForm.booking_day_limit.required" for="contactMobile" class="error"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请填写游玩天数！</label></div>
>>>>>>> fix_master
                                        <input class="datainp wicon" id="group"  type="text" placeholder="格式为08:00" @click="testShow('#group')" readonly>时:分之前预订
                                        <div v-if="subFromData.booking_limit == 5140" style="display:none;">
                                            <input type="hidden" v-model="subFromData.booking_time_limit" v-validate:booking_time_limit="{required:true}" initial="off"/>
                                        </div>
<<<<<<< HEAD
                                        <div class="Prompt prom-right" v-show="$checkSubForm.booking_time_limit.required" for="contactMobile"><img src="../static/style/img/baocuo.png"><label class="error">请填写游玩时间！</label></div>
=======
                                        <div class="Prompt prom-right" v-show="$checkSubForm.booking_time_limit.required" for="contactMobile"><img src="/voucher/static/style/img/baocuo.png"><label class="error">请填写游玩时间！</label></div>
>>>>>>> fix_master
                                    </label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">是否限购：</label>
                                <div class="col-md-3 col-sm-3 col-lg-2 clearfix">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5020" v-model="subFromData.stock_limit" v-validate:stock_limit="{required:true}" initial="off"><b>是</b>
                                    </label>
                                </div>
                                <div class="col-md-3 col-sm-3 col-lg-2 clearfix">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5021" v-model="subFromData.stock_limit" v-validate:stock_limit="{required:true}" initial="off"><b>否</b>
                                    </label>
                                    <label v-show="$checkSubForm.stock_limit.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                            </li>
                            <li v-if="subFromData.stock_limit == 5020">
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-md-9 col-sm-9 col-lg-9 clearfix">
                                    总限购数量<input type="number" min="0" class="input-one" v-model="subFromData.total_stock" v-validate:total_stock="{required:true}" initial="off"/>
                                    <label v-show="$checkSubForm.total_stock.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                            </li>
                            <li v-if="subFromData.stock_limit == 5020">
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-md-9 col-sm-9 col-lg-8 clearfix">
                                    <div class="col-md-9 col-sm-9 col-lg-9 clearfix">
                                        <datepicker :value.sync="subFromData.buy_start_date" class="col-sm-3 col-lg-3" language="ch"></datepicker>
                                        <datepicker :value.sync="subFromData.buy_end_date" class="col-sm-3 col-lg-3" language="ch"></datepicker>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">预订须知：</label>
                                <div class="bs-example col-md-8 col-sm-8 col-lg-8 ">
                                    <textarea rows="5" class="form-control valid" style="resize:none" v-model="subFromData.booking_notes" v-validate:booking_notes="{required:true}" initial="off"  readonly disabled></textarea>
                                    <textarea rows="4" class="form-control valid" style="resize:none;border-top: 0px" v-model="subFromData.booking_notes_extend"></textarea>
                                    <em>说明：1、2、3、4点是默认生成的，根据前面的选项默认生成的须知，您可以再添加须知.</em>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="business-two">
                        <div class="title clearfix">
                            <em></em><h3>使用限制</h3>
                        </div>
                        <ul>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">有效天数：</label>
                                <div class="col-sm-8 col-md-8 col-lg-8">
                                    <label class="radio-inline">
                                        <input type="radio" class="chekbox" value="5081" @change="disableWeek" v-model="subFromData.effective_type" v-validate:effective_type="{required:true}" initial="off">
                                        预订游玩日起<input type="number" min="1" class="input-one" style="width:150px" v-model="subFromData.effective_day" @change="disableWeek"/>
                                        天内有效
                                        <label v-show="$checkSubForm.effective_day.required" for="contactMobile" style="color:orangered;padding-left:20px">必填字段</label>
                                    </label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div v-if="subFromData.effective_type == 5081" style="display:none;">
                                    <input type="hidden" v-model="subFromData.effective_day" v-validate:effective_day="{required:true}" initial="off"/>
                                </div>
                                <div class="col-sm-8 col-md-8 col-lg-8 ">
                                    <input type="radio" value="5082" @change="disableWeek" v-model="subFromData.effective_type" v-validate:effective_type="{required:true}" initial="off">
                                    <datepicker :value.sync="subFromData.effective_start_date" class="col-sm-3 col-lg-3" language="ch"></datepicker>
                                    <datepicker :value.sync="subFromData.effective_end_date" class="col-sm-3 col-lg-3" language="ch"></datepicker>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">禁用日期：</label>
                                <div class="col-sm-9 col-md-9 col-lg-9 clearfix">
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="1" v-model="subFromData.disable_week" @change="disableWeek"><b>星期一</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="2" v-model="subFromData.disable_week" @change="disableWeek"><b>星期二</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="3" v-model="subFromData.disable_week" @change="disableWeek"><b>星期三</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="4" v-model="subFromData.disable_week" @change="disableWeek"><b>星期四</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="5" v-model="subFromData.disable_week" @change="disableWeek"><b>星期五</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="6" v-model="subFromData.disable_week" @change="disableWeek"><b>星期六</b>
                                    </label>
                                    <label class="radio-inline" style="padding-left: 0px;">
                                        <input type="checkbox" class="chekbox" value="7" v-model="subFromData.disable_week" @change="disableWeek"><b>星期天</b>
                                    </label>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label"></label>
                                <div class="col-sm-8 col-md-8 col-lg-8" style=" padding-left:0px;">
                                    <div class="col-sm-6 col-md-6 col-lg-6">
                                        <textarea rows="5" class="form-control valid" style="resize:none" v-model="DisableDate"></textarea>
                                    </div>
                                    <div class="col-md-6 col-sm-6 col-lg-6">
                                        <datepicker :value.sync="disable_date" class="col-sm-4 col-lg-4" language="ch"></datepicker>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">使用须知：</label>
                                <div class="bs-example  col-md-8 col-sm-8 col-lg-8 ">
                                    <textarea rows="5" class="form-control valid" style="resize:none" v-model="subFromData.use_notes" v-validate:use_notes="{required:true}" initial="off" readonly disabled></textarea>
                                    <textarea rows="4" class="form-control valid" style="resize:none;border-top: 0px" v-model="subFromData.use_notes_extend"></textarea>
                                    <em>说明：1、2点是默认生成的，根据前面的选项默认生成的须知，您可以再添加须知.</em>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="business-two clearfix">
                        <div class="title">
                            <em></em><h3>退货规则</h3>
                        </div>
                        <ul>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">退货规则：</label>
                                <div class="col-sm-8 col-md-8 col-lg-6 clearfix">
                                    <remote-sel :setting="refundSetting" :value.sync="subFromData.cust_refund_rule" @change="refundRule" v-validate:cust_refund_rule="{required:true}" initial="off"></remote-sel>
                                    <label v-show="$checkSubForm.cust_refund_rule.required" for="contactMobile" class="error">必填字段</label>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="business-two clearfix">
                        <div class="title">
                            <em></em><h3>其它信息</h3>
                        </div>
                        <ul>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">短信凭证内容：</label>
                                <div class="bs-example col-md-8 col-sm-8 col-lg-8 clearfix">
                                    <textarea class="form-control" rows="6" v-model="subFromData.voucher_msg"></textarea>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label">打印小票内容：</label>
                                <div class="bs-example col-md-8 col-sm-8 col-lg-8 clearfix">
                                    <textarea class="form-control" rows="6" v-model="subFromData.ticket_msg"></textarea>
                                </div>
                            </li>
                            <li>
                                <label class="col-md-3 col-sm-3 col-lg-3 control-label" style="color:red;font-size: 15px">标签说明：</label>
                                <div class="col-md-8 col-sm-8 col-lg-8 form-control-static clearfix" style="color:red;font-size: 15px">
                                    支持这些标签,{标题},{份数},{验证码},{有效期},{生效日期},{有效年月日}当您传入这些标签后,系统将在发送此信息时用相对的内容来替换，短信内容不宜过长，超过65字时将按65字每条收费(以最终收到的短信字数为准)!
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="business-two clearfix">
                        <div class="Button-box" v-if="disabled == false">
                            <button class="btn" type="submit" @click="upload">修改</button>
                        </div>
                        <div class="Button-box" v-if="disabled == true">
                            <button class="btn" type="submit" @click="upload" disabled>修改</button>
                        </div>
                    </div>
                </form>
            </validator>
        </div>
    </div>
</div>
<<<<<<< HEAD
<script type="text/javascript" src="../api/local/client/system/load_config"></script>
<script type="text/javascript" src="../static/script/local/require/require.js"></script>
<script type="text/javascript" src="../static/script/local/require_config.js"></script>
<script type="text/javascript" src="../static/script/local/view/prod/editSubView.js"></script>
=======
<script type="text/javascript" src="/voucher/api/local/client/system/load_config"></script>
<script type="text/javascript" src="/voucher/static/script/local/require/require.js"></script>
<script type="text/javascript" src="/voucher/static/script/local/require_config.js"></script>
<script type="text/javascript" src="/voucher/static/script/local/view/prod/editSubView.js"></script>
>>>>>>> fix_master
</body>
</html>